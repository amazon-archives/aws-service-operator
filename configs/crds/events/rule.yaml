---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: rules.events.awsoperator.io
spec:
  group: events.awsoperator.io
  versions:
  - name: v1alpha1
    served: true
    storage: true
  scope: Namespaced
  names:
    plural: rules
    singular: rule
    kind: Rule
    shortNames: []
    categories:
    - aws
    - events
  additionalPrinterColumns:
  - name: Status
    type: string
    description: Status for the AWS CloudFormation stack.
    JSONPath: ".status.reason"
  - name: Message
    type: string
    description: Message accompanying it's current stack status.
    JSONPath: ".status.message"
    priority: 1
  - name: Created At
    type: date
    description: When the resource was created
    JSONPath: ".metadata.creationTimestamp"
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      properties:
        spec:
          description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-events-rule.html
          type: object
          required: []
          properties:
            description:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-events-rule.html#cfn-events-rule-description
              type: string
            eventPattern:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-events-rule.html#cfn-events-rule-eventpattern
            name:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-events-rule.html#cfn-events-rule-name
              type: string
            roleRef:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-events-rule.html#cfn-events-rule-rolearn
              type: string
            scheduleExpression:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-events-rule.html#cfn-events-rule-scheduleexpression
              type: string
            state:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-events-rule.html#cfn-events-rule-state
              type: string
              enum:
              - DISABLED
              - ENABLED
            targets:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-events-rule.html#cfn-events-rule-targets
              type: array
              items:
                type: object
                properties:
                  arn:
                    description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-target.html#cfn-events-rule-target-arn
                    type: string
                    customAttributes:
                      template: Arn
                      immutable: false
                  ecsParameters:
                    description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-target.html#cfn-events-rule-target-ecsparameters
                    type: object
                    customAttributes:
                      immutable: false
                    required:
                    - taskDefinitionArn
                    properties:
                      taskCount:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-ecsparameters.html#cfn-events-rule-ecsparameters-taskcount
                        type: integer
                        format: int32
                        customAttributes:
                          template: TaskCount
                          immutable: false
                      taskDefinitionRef:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-ecsparameters.html#cfn-events-rule-ecsparameters-taskdefinitionarn
                        type: string
                        customAttributes:
                          template: TaskDefinitionArn
                          immutable: false
                  id:
                    description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-target.html#cfn-events-rule-target-id
                    type: string
                    customAttributes:
                      template: Id
                      immutable: false
                  input:
                    description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-target.html#cfn-events-rule-target-input
                    type: string
                    customAttributes:
                      template: Input
                      immutable: false
                  inputPath:
                    description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-target.html#cfn-events-rule-target-inputpath
                    type: string
                    customAttributes:
                      template: InputPath
                      immutable: false
                  inputTransformer:
                    description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-target.html#cfn-events-rule-target-inputtransformer
                    type: object
                    customAttributes:
                      immutable: false
                    required:
                    - inputTemplate
                    properties:
                      inputPathsMap:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-inputtransformer.html#cfn-events-rule-inputtransformer-inputpathsmap
                        type: json
                        customAttributes:
                          template: InputPathsMap
                          immutable: false
                      inputTemplate:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-inputtransformer.html#cfn-events-rule-inputtransformer-inputtemplate
                        type: string
                        customAttributes:
                          template: InputTemplate
                          immutable: false
                  kinesisParameters:
                    description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-target.html#cfn-events-rule-target-kinesisparameters
                    type: object
                    customAttributes:
                      immutable: false
                    required:
                    - partitionKeyPath
                    properties:
                      partitionKeyPath:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-kinesisparameters.html#cfn-events-rule-kinesisparameters-partitionkeypath
                        type: string
                        customAttributes:
                          template: PartitionKeyPath
                          immutable: false
                  roleRef:
                    description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-target.html#cfn-events-rule-target-rolearn
                    type: string
                    customAttributes:
                      template: RoleArn
                      immutable: false
                  runCommandParameters:
                    description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-target.html#cfn-events-rule-target-runcommandparameters
                    type: object
                    customAttributes:
                      immutable: false
                    required:
                    - runCommandTargets
                    properties:
                      runCommandTargets:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-runcommandparameters.html#cfn-events-rule-runcommandparameters-runcommandtargets
                        type: array
                        customAttributes:
                          template: RunCommandTargets
                          immutable: false
                        items:
                          type: object
                          properties:
                            key:
                              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-runcommandtarget.html#cfn-events-rule-runcommandtarget-key
                              type: string
                              customAttributes:
                                template: Key
                                immutable: false
                            values:
                              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-runcommandtarget.html#cfn-events-rule-runcommandtarget-values
                              type: array
                              customAttributes:
                                template: Values
                                immutable: false
                              items:
                                type: string
                  sqsParameters:
                    description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-target.html#cfn-events-rule-target-sqsparameters
                    type: object
                    customAttributes:
                      immutable: false
                    required:
                    - messageGroupId
                    properties:
                      messageGroupRef:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-events-rule-sqsparameters.html#cfn-events-rule-sqsparameters-messagegroupid
                        type: string
                        customAttributes:
                          template: MessageGroupId
                          immutable: false
