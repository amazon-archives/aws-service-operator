---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: functiondefinitions.greengrass.awsoperator.io
spec:
  group: greengrass.awsoperator.io
  versions:
  - name: v1alpha1
    served: true
    storage: true
  scope: Namespaced
  names:
    plural: functiondefinitions
    singular: functiondefinition
    kind: FunctionDefinition
    shortNames: []
    categories:
    - aws
    - greengrass
  additionalPrinterColumns:
  - name: Status
    type: string
    description: Status for the AWS CloudFormation stack.
    JSONPath: ".status.reason"
  - name: Message
    type: string
    description: Message accompanying it's current stack status.
    JSONPath: ".status.message"
    priority: 1
  - name: Created At
    type: date
    description: When the resource was created
    JSONPath: ".metadata.creationTimestamp"
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      properties:
        spec:
          description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-greengrass-functiondefinition.html
          type: object
          required:
          - name
          properties:
            initialVersion:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-greengrass-functiondefinition.html#cfn-greengrass-functiondefinition-initialversion
              type: object
              required:
              - functions
              properties:
                defaultConfig:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-functiondefinitionversion.html#cfn-greengrass-functiondefinition-functiondefinitionversion-defaultconfig
                  type: object
                  required:
                  - execution
                  properties:
                    execution:
                      description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-defaultconfig.html#cfn-greengrass-functiondefinition-defaultconfig-execution
                      type: object
                      required: []
                      properties:
                        isolationMode:
                          description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-execution.html#cfn-greengrass-functiondefinition-execution-isolationmode
                          type: string
                        runAs:
                          description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-execution.html#cfn-greengrass-functiondefinition-execution-runas
                          type: object
                          required: []
                          properties:
                            gid:
                              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-runas.html#cfn-greengrass-functiondefinition-runas-gid
                              type: integer
                              format: int32
                            uid:
                              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-runas.html#cfn-greengrass-functiondefinition-runas-uid
                              type: integer
                              format: int32
                functions:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-functiondefinitionversion.html#cfn-greengrass-functiondefinition-functiondefinitionversion-functions
                  type: array
                  items:
                    type: object
                    properties:
                      functionRef:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-function.html#cfn-greengrass-functiondefinition-function-functionarn
                        type: string
                        customAttributes:
                          template: FunctionArn
                          immutable: true
                      functionConfiguration:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-function.html#cfn-greengrass-functiondefinition-function-functionconfiguration
                        type: object
                        customAttributes:
                          immutable: true
                        required: []
                        properties:
                          encodingType:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-functionconfiguration.html#cfn-greengrass-functiondefinition-functionconfiguration-encodingtype
                            type: string
                            customAttributes:
                              template: EncodingType
                              immutable: true
                          environment:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-functionconfiguration.html#cfn-greengrass-functiondefinition-functionconfiguration-environment
                            type: object
                            customAttributes:
                              immutable: true
                            required: []
                            properties:
                              accessSysfs:
                                description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-environment.html#cfn-greengrass-functiondefinition-environment-accesssysfs
                                type: boolean
                                customAttributes:
                                  template: AccessSysfs
                                  immutable: true
                              execution:
                                description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-environment.html#cfn-greengrass-functiondefinition-environment-execution
                                type: object
                                customAttributes:
                                  immutable: true
                                required: []
                                properties:
                                  isolationMode:
                                    description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-execution.html#cfn-greengrass-functiondefinition-execution-isolationmode
                                    type: string
                                    customAttributes:
                                      template: IsolationMode
                                      immutable: true
                                  runAs:
                                    description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-execution.html#cfn-greengrass-functiondefinition-execution-runas
                                    type: object
                                    customAttributes:
                                      immutable: true
                                    required: []
                                    properties:
                                      gid:
                                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-runas.html#cfn-greengrass-functiondefinition-runas-gid
                                        type: integer
                                        format: int32
                                        customAttributes:
                                          template: Gid
                                          immutable: true
                                      uid:
                                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-runas.html#cfn-greengrass-functiondefinition-runas-uid
                                        type: integer
                                        format: int32
                                        customAttributes:
                                          template: Uid
                                          immutable: true
                              resourceAccessPolicies:
                                description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-environment.html#cfn-greengrass-functiondefinition-environment-resourceaccesspolicies
                                type: array
                                customAttributes:
                                  template: ResourceAccessPolicies
                                  immutable: true
                                items:
                                  type: object
                                  properties:
                                    permission:
                                      description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-resourceaccesspolicy.html#cfn-greengrass-functiondefinition-resourceaccesspolicy-permission
                                      type: string
                                      customAttributes:
                                        template: Permission
                                        immutable: true
                                    resourceRef:
                                      description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-resourceaccesspolicy.html#cfn-greengrass-functiondefinition-resourceaccesspolicy-resourceid
                                      type: string
                                      customAttributes:
                                        template: ResourceId
                                        immutable: true
                              variables:
                                description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-environment.html#cfn-greengrass-functiondefinition-environment-variables
                                customAttributes:
                                  template: Variables
                                  immutable: true
                          execArgs:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-functionconfiguration.html#cfn-greengrass-functiondefinition-functionconfiguration-execargs
                            type: string
                            customAttributes:
                              template: ExecArgs
                              immutable: true
                          executable:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-functionconfiguration.html#cfn-greengrass-functiondefinition-functionconfiguration-executable
                            type: string
                            customAttributes:
                              template: Executable
                              immutable: true
                          memorySize:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-functionconfiguration.html#cfn-greengrass-functiondefinition-functionconfiguration-memorysize
                            type: integer
                            format: int32
                            customAttributes:
                              template: MemorySize
                              immutable: true
                          pinned:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-functionconfiguration.html#cfn-greengrass-functiondefinition-functionconfiguration-pinned
                            type: boolean
                            customAttributes:
                              template: Pinned
                              immutable: false
                          timeout:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-functionconfiguration.html#cfn-greengrass-functiondefinition-functionconfiguration-timeout
                            type: integer
                            format: int32
                            customAttributes:
                              template: Timeout
                              immutable: true
                      id:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-greengrass-functiondefinition-function.html#cfn-greengrass-functiondefinition-function-id
                        type: string
                        customAttributes:
                          template: Id
                          immutable: true
            name:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-greengrass-functiondefinition.html#cfn-greengrass-functiondefinition-name
              type: string
