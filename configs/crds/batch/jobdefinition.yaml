---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: jobdefinitions.batch.awsoperator.io
spec:
  group: batch.awsoperator.io
  versions:
  - name: v1alpha1
    served: true
    storage: true
  scope: Namespaced
  names:
    plural: jobdefinitions
    singular: jobdefinition
    kind: JobDefinition
    shortNames: []
    categories:
    - aws
    - batch
  additionalPrinterColumns:
  - name: Status
    type: string
    description: Status for the AWS CloudFormation stack.
    JSONPath: ".status.reason"
  - name: Message
    type: string
    description: Message accompanying it's current stack status.
    JSONPath: ".status.message"
    priority: 1
  - name: Created At
    type: date
    description: When the resource was created
    JSONPath: ".metadata.creationTimestamp"
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      properties:
        spec:
          description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-batch-jobdefinition.html
          type: object
          required:
          - type
          properties:
            containerProperties:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-batch-jobdefinition.html#cfn-batch-jobdefinition-containerproperties
              type: object
              required:
              - image
              - memory
              - vcpus
              properties:
                command:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-command
                  type: array
                  items:
                    type: string
                environment:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-environment
                  type: array
                  items:
                    type: object
                    properties:
                      name:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-environment.html#cfn-batch-jobdefinition-environment-name
                        type: string
                        customAttributes:
                          template: Name
                          immutable: false
                      value:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-environment.html#cfn-batch-jobdefinition-environment-value
                        type: string
                        customAttributes:
                          template: Value
                          immutable: false
                image:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-image
                  type: string
                instanceType:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-instancetype
                  type: string
                jobRoleRef:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-jobrolearn
                  type: string
                memory:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-memory
                  type: integer
                  format: int32
                mountPoints:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-mountpoints
                  type: array
                  items:
                    type: object
                    properties:
                      containerPath:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-mountpoints.html#cfn-batch-jobdefinition-mountpoints-containerpath
                        type: string
                        customAttributes:
                          template: ContainerPath
                          immutable: false
                      readOnly:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-mountpoints.html#cfn-batch-jobdefinition-mountpoints-readonly
                        type: boolean
                        customAttributes:
                          template: ReadOnly
                          immutable: false
                      sourceVolume:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-mountpoints.html#cfn-batch-jobdefinition-mountpoints-sourcevolume
                        type: string
                        customAttributes:
                          template: SourceVolume
                          immutable: false
                privileged:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-privileged
                  type: boolean
                readonlyRootFilesystem:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-readonlyrootfilesystem
                  type: boolean
                resourceRequirements:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-resourcerequirements
                  type: array
                  items:
                    type: object
                    properties:
                      type:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-resourcerequirement.html#cfn-batch-jobdefinition-resourcerequirement-type
                        type: string
                        customAttributes:
                          template: Type
                          immutable: false
                      value:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-resourcerequirement.html#cfn-batch-jobdefinition-resourcerequirement-value
                        type: string
                        customAttributes:
                          template: Value
                          immutable: false
                ulimits:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-ulimits
                  type: array
                  items:
                    type: object
                    properties:
                      hardLimit:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-ulimit.html#cfn-batch-jobdefinition-ulimit-hardlimit
                        type: integer
                        format: int32
                        customAttributes:
                          template: HardLimit
                          immutable: false
                      name:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-ulimit.html#cfn-batch-jobdefinition-ulimit-name
                        type: string
                        customAttributes:
                          template: Name
                          immutable: false
                      softLimit:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-ulimit.html#cfn-batch-jobdefinition-ulimit-softlimit
                        type: integer
                        format: int32
                        customAttributes:
                          template: SoftLimit
                          immutable: false
                user:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-user
                  type: string
                vcpus:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-vcpus
                  type: integer
                  format: int32
                volumes:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-volumes
                  type: array
                  items:
                    type: object
                    properties:
                      host:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-volumes.html#cfn-batch-jobdefinition-volumes-host
                        type: object
                        customAttributes:
                          immutable: false
                        required: []
                        properties:
                          sourcePath:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-volumeshost.html#cfn-batch-jobdefinition-volumeshost-sourcepath
                            type: string
                            customAttributes:
                              template: SourcePath
                              immutable: false
                      name:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-volumes.html#cfn-batch-jobdefinition-volumes-name
                        type: string
                        customAttributes:
                          template: Name
                          immutable: false
            nodeProperties:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-batch-jobdefinition.html#cfn-batch-jobdefinition-nodeproperties
              type: object
              required:
              - mainNode
              - nodeRangeProperties
              - numNodes
              properties:
                mainNode:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-nodeproperties.html#cfn-batch-jobdefinition-nodeproperties-mainnode
                  type: integer
                  format: int32
                nodeRangeProperties:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-nodeproperties.html#cfn-batch-jobdefinition-nodeproperties-noderangeproperties
                  type: array
                  items:
                    type: object
                    properties:
                      container:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-noderangeproperty.html#cfn-batch-jobdefinition-noderangeproperty-container
                        type: object
                        customAttributes:
                          immutable: false
                        required:
                        - image
                        - memory
                        - vcpus
                        properties:
                          command:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-command
                            type: array
                            customAttributes:
                              template: Command
                              immutable: false
                            items:
                              type: string
                          environment:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-environment
                            type: array
                            customAttributes:
                              template: Environment
                              immutable: false
                            items:
                              type: object
                              properties:
                                name:
                                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-environment.html#cfn-batch-jobdefinition-environment-name
                                  type: string
                                  customAttributes:
                                    template: Name
                                    immutable: false
                                value:
                                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-environment.html#cfn-batch-jobdefinition-environment-value
                                  type: string
                                  customAttributes:
                                    template: Value
                                    immutable: false
                          image:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-image
                            type: string
                            customAttributes:
                              template: Image
                              immutable: false
                          instanceType:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-instancetype
                            type: string
                            customAttributes:
                              template: InstanceType
                              immutable: false
                          jobRoleRef:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-jobrolearn
                            type: string
                            customAttributes:
                              template: JobRoleArn
                              immutable: false
                          memory:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-memory
                            type: integer
                            format: int32
                            customAttributes:
                              template: Memory
                              immutable: false
                          mountPoints:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-mountpoints
                            type: array
                            customAttributes:
                              template: MountPoints
                              immutable: false
                            items:
                              type: object
                              properties:
                                containerPath:
                                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-mountpoints.html#cfn-batch-jobdefinition-mountpoints-containerpath
                                  type: string
                                  customAttributes:
                                    template: ContainerPath
                                    immutable: false
                                readOnly:
                                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-mountpoints.html#cfn-batch-jobdefinition-mountpoints-readonly
                                  type: boolean
                                  customAttributes:
                                    template: ReadOnly
                                    immutable: false
                                sourceVolume:
                                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-mountpoints.html#cfn-batch-jobdefinition-mountpoints-sourcevolume
                                  type: string
                                  customAttributes:
                                    template: SourceVolume
                                    immutable: false
                          privileged:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-privileged
                            type: boolean
                            customAttributes:
                              template: Privileged
                              immutable: false
                          readonlyRootFilesystem:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-readonlyrootfilesystem
                            type: boolean
                            customAttributes:
                              template: ReadonlyRootFilesystem
                              immutable: false
                          resourceRequirements:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-resourcerequirements
                            type: array
                            customAttributes:
                              template: ResourceRequirements
                              immutable: false
                            items:
                              type: object
                              properties:
                                type:
                                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-resourcerequirement.html#cfn-batch-jobdefinition-resourcerequirement-type
                                  type: string
                                  customAttributes:
                                    template: Type
                                    immutable: false
                                value:
                                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-resourcerequirement.html#cfn-batch-jobdefinition-resourcerequirement-value
                                  type: string
                                  customAttributes:
                                    template: Value
                                    immutable: false
                          ulimits:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-ulimits
                            type: array
                            customAttributes:
                              template: Ulimits
                              immutable: false
                            items:
                              type: object
                              properties:
                                hardLimit:
                                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-ulimit.html#cfn-batch-jobdefinition-ulimit-hardlimit
                                  type: integer
                                  format: int32
                                  customAttributes:
                                    template: HardLimit
                                    immutable: false
                                name:
                                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-ulimit.html#cfn-batch-jobdefinition-ulimit-name
                                  type: string
                                  customAttributes:
                                    template: Name
                                    immutable: false
                                softLimit:
                                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-ulimit.html#cfn-batch-jobdefinition-ulimit-softlimit
                                  type: integer
                                  format: int32
                                  customAttributes:
                                    template: SoftLimit
                                    immutable: false
                          user:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-user
                            type: string
                            customAttributes:
                              template: User
                              immutable: false
                          vcpus:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-vcpus
                            type: integer
                            format: int32
                            customAttributes:
                              template: Vcpus
                              immutable: false
                          volumes:
                            description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-containerproperties.html#cfn-batch-jobdefinition-containerproperties-volumes
                            type: array
                            customAttributes:
                              template: Volumes
                              immutable: false
                            items:
                              type: object
                              properties:
                                host:
                                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-volumes.html#cfn-batch-jobdefinition-volumes-host
                                  type: object
                                  customAttributes:
                                    immutable: false
                                  required: []
                                  properties:
                                    sourcePath:
                                      description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-volumeshost.html#cfn-batch-jobdefinition-volumeshost-sourcepath
                                      type: string
                                      customAttributes:
                                        template: SourcePath
                                        immutable: false
                                name:
                                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-volumes.html#cfn-batch-jobdefinition-volumes-name
                                  type: string
                                  customAttributes:
                                    template: Name
                                    immutable: false
                      targetNodes:
                        description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-noderangeproperty.html#cfn-batch-jobdefinition-noderangeproperty-targetnodes
                        type: string
                        customAttributes:
                          template: TargetNodes
                          immutable: false
                numNodes:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-nodeproperties.html#cfn-batch-jobdefinition-nodeproperties-numnodes
                  type: integer
                  format: int32
            parameters:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-batch-jobdefinition.html#cfn-batch-jobdefinition-parameters
            retryStrategy:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-batch-jobdefinition.html#cfn-batch-jobdefinition-retrystrategy
              type: object
              required: []
              properties:
                attempts:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-retrystrategy.html#cfn-batch-jobdefinition-retrystrategy-attempts
                  type: integer
                  format: int32
            timeout:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-batch-jobdefinition.html#cfn-batch-jobdefinition-timeout
              type: object
              required: []
              properties:
                attemptDurationSeconds:
                  description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-batch-jobdefinition-timeout.html#cfn-batch-jobdefinition-timeout-attemptdurationseconds
                  type: integer
                  format: int32
            type:
              description: http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-batch-jobdefinition.html#cfn-batch-jobdefinition-type
              type: string
